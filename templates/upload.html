{% extends "base.html" %}
{% block title %}Upload — Traffic Sign Detection{% endblock %}

{% block content %}
<section class="card">
  <h1>Predict from Image</h1>
  <p class="muted">Upload a traffic sign photo to get the model’s label and confidence.</p>

  <form action="{{ url_for('predict') }}" method="post" enctype="multipart/form-data" class="upload-form">
  <label for="image" class="file-label" id="fileLabel">
    Click to select an image or drag it here...
  </label>
  <input id="image" name="image" type="file" accept="image/*" required onchange="showFileName(this)">
  
  <div class="actions">
    <button type="submit" class="btn">Predict</button>
    <a href="{{ back_url }}" class="btn secondary">Back</a>
  </div>
</form>

<script>
function showFileName(input) {
  const label = document.getElementById('fileLabel');
  if (input.files.length > 0) {
    const name = input.files[0].name;
    label.textContent = `Selected : ${name}`;
    label.classList.add('active');
  } else {
    label.textContent = 'Click to select an image or drag it here';
    label.classList.remove('active');
  }
}
</script>

</section>

{% endblock %}
